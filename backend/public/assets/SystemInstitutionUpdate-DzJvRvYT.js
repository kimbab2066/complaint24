import{ax as y,X as r,a1 as V,e as I,p as s,g as i,t as p,D as g,F as h,aE as k,aG as x,aF as c,o as D}from"./index-CIvZqnG9.js";import{s as U}from"./index-COnWdjRO.js";import{s as B}from"./index-Q5f-HasL.js";import"./index-D3alGoI6.js";import"./index-B8K14yKN.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-DrWbS65R.js";const S={class:"update-card"},$={class:"info-grid"},w={class:"field-full"},F={class:"detail-field"},z={class:"detail-field"},C={class:"field-full"},E={class:"field-value"},N={class:"field-full"},R={class:"field-value"},T={class:"action-buttons field-full"},G={__name:"SystemInstitutionUpdate",setup(L){const d=k(),n=x(),e=r({institution_name:"",phone:"",status:"",road_address:"",detail_address:""}),m=r([{name:"운영",code:"1s"},{name:"휴업",code:"2s"},{name:"폐업",code:"3s"}]),_=async()=>{const o=d.params.id;if(!o){console.error("기관 ID가 없습니다"),n.back();return}try{const a=(await c.get(`/api/institutions/${o}`)).data;e.value={institution_name:a.institution_name,phone:a.phone,status:a.status,road_address:a.road_address,detail_address:a.detail_address}}catch(t){console.error("SystemInstitutionUpdate 오류",t),n.back()}},v=async()=>{const o=d.params.id,t={institution_name:e.value.institution_name,phone:e.value.phone,status:e.value.status};try{await c.put(`/api/institutions/${o}`,t),n.push({name:"sysInstitutionDetails",params:{id:o}})}catch(a){console.error("기관 정보 수정 실패",a)}},f=()=>{n.back()};return V(()=>{_()}),(o,t)=>{const a=B,b=U,u=g;return D(),I(h,null,[t[8]||(t[8]=s("div",{class:"institution-update-container"},[s("h2",{class:"page-subtitle"},"기관 정보 수정")],-1)),s("div",S,[s("div",$,[s("div",w,[t[3]||(t[3]=s("label",{class:"field-label"},"기관명",-1)),i(a,{modelValue:e.value.institution_name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.institution_name=l),placeholder:"기관명 수정",class:"field-value p-inputtext p-component"},null,8,["modelValue"])]),s("div",F,[t[4]||(t[4]=s("label",{class:"field-label"},"기관 연락처",-1)),i(a,{modelValue:e.value.phone,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.phone=l),placeholder:"연락처 수정",class:"field-value p-inputtext p-component"},null,8,["modelValue"])]),s("div",z,[t[5]||(t[5]=s("label",{class:"field-label"},"운영 상태",-1)),i(b,{modelValue:e.value.status,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.status=l),options:m.value,optionLabel:"name",optionValue:"code",placeholder:"상태 수정",class:"field-value"},null,8,["modelValue","options"])]),s("div",C,[t[6]||(t[6]=s("label",{class:"field-label"},"도로명 주소",-1)),s("p",E,p(e.value.road_address),1)]),s("div",N,[t[7]||(t[7]=s("label",{class:"field-label"},"상세주소",-1)),s("p",R,p(e.value.detail_address),1)]),s("div",T,[i(u,{label:"수정하기",icon:"pi pi-check",severity:"success",size:"small",onClick:v}),i(u,{label:"취소하기",icon:"pi pi-times",severity:"secondary",size:"smaill",onClick:f})])])])],64)}}},K=y(G,[["__scopeId","data-v-16bec4e1"]]);export{K as default};
