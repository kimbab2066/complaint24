import{ax as w,X as d,aN as b,aF as g,e as x,p as o,g as t,aJ as a,w as i,a3 as p,t as f,D as S,az as V,aG as D,o as N}from"./index-CIvZqnG9.js";import{s as $}from"./index-DDGhF_vi.js";import{s as k}from"./index-BPbqiqrq.js";import{s as B}from"./index-Q5f-HasL.js";import{a as s,s as C}from"./index-DFkLlqX2.js";import"./index-B8K14yKN.js";import"./index-rSX_qRTu.js";import"./index-D3alGoI6.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-DrWbS65R.js";import"./index-DtbhESyl.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-DaQCVIMN.js";import"./index-m-AAtQFb.js";const M={class:"card"},R={class:"p-input-icon-left w-full mb-4"},A={class:"flex justify-between items-center mt-4 mb-2"},F={class:"flex items-center gap-3"},z={__name:"ActivityReport",setup(I){const u=d([]),m=d(!0),c=d(!1),n=d({});function v(){n.value={global:{value:null,matchMode:V.CONTAINS}}}const y=r=>{switch(r){case"접수":return"0";case"심사중":return"1";case"반려":return"2";default:return null}};b(async()=>{v();try{const r=await g.get("/api/staff/survey-select");console.log("res",r),u.value=r.data}catch(r){console.error("Survey 조회 오류:",r)}finally{m.value=!1}});const _=D(),h=r=>{_.push({name:"survey",params:{surveyNo:r.survey_no}})};return(r,l)=>(N(),x("div",M,[o("div",R,[l[2]||(l[2]=o("i",{class:"pi pi-search"},null,-1)),t(a(B),{modelValue:n.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.global.value=e),placeholder:"사업명, 목적, 작성자 등으로 검색",class:"w-full p-inputtext-lg"},null,8,["modelValue"])]),o("div",A,[o("div",F,[l[3]||(l[3]=o("span",{class:"text-sm font-medium text-gray-700"},"토글 필터:",-1)),t(a($),{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e)},null,8,["modelValue"])])]),t(a(C),{value:u.value,loading:m.value,filters:n.value,filterDisplay:"row",paginator:"",rows:5,dataKey:"survey_no",removableSort:"",stripedRows:""},{default:i(()=>[t(a(s),{field:"survey_no",header:"조사지번호",sortable:!0,style:{"min-width":"8rem"}}),t(a(s),{field:"business_name",header:"사업명",sortable:!0,style:{"min-width":"15rem"}}),t(a(s),{field:"purpose",header:"목적",sortable:!0,style:{"min-width":"15rem"}}),t(a(s),{field:"content",header:"내용",sortable:!0,style:{"min-width":"20rem"}}),t(a(s),{field:"writer",header:"작성자",sortable:!0,style:{"min-width":"8rem"}}),t(a(s),{field:"status",header:"상태",sortable:!0,style:{"min-width":"8rem"}},{body:i(e=>[t(a(k),{value:e.data.status,severity:y(e.data.status)},null,8,["value","severity"])]),_:1}),t(a(s),{field:"created_at",header:"작성일",sortable:!0,style:{"min-width":"12rem"}},{body:i(e=>[p(f(e.data.created_at?new Date(e.data.created_at).toLocaleDateString():"-"),1)]),_:1}),t(a(s),{field:"updated_at",header:"수정일",sortable:!0,style:{"min-width":"12rem"}},{body:i(e=>[p(f(e.data.updated_at?new Date(e.data.updated_at).toLocaleDateString():"-"),1)]),_:1}),t(a(s),{header:"관리",style:{"min-width":"8rem","text-align":"center"}},{body:i(e=>[t(a(S),{label:"상세보기",outlined:"",size:"small",onClick:L=>h(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])]))}},ae=w(z,[["__scopeId","data-v-a60e24c8"]]);export{ae as default};
