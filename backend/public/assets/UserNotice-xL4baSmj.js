import{ax as x,aD as g,X as a,aN as k,e as S,p as t,g as c,w as m,aF as C,aG as $,o as i,d,aJ as n,D as p}from"./index-CIvZqnG9.js";import{s as B}from"./index-BPbqiqrq.js";import{_ as N}from"./BaseDataTable-9GefwxHF.js";import"./index-DFkLlqX2.js";import"./index-B8K14yKN.js";import"./index-rSX_qRTu.js";import"./index-D3alGoI6.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-Q5f-HasL.js";import"./index-DrWbS65R.js";import"./index-DtbhESyl.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-DaQCVIMN.js";import"./index-m-AAtQFb.js";const U={class:"card"},D={class:"survey-list-box"},F={class:"flex gap-2"},R={__name:"UserNotice",setup(V){$();const v=g(),l=a([]),o=a(!0),u=a(null),f=a([{field:"business_name",header:"조사지명",style:"min-width: 20rem"},{field:"ward_name",header:"대상자",style:"min-width: 10rem"},{field:"submission_status",header:"상태",style:"min-width: 8rem"},{field:"deadline",header:"제출기한",style:"min-width: 10rem"},{field:"management",header:"관리",style:"min-width: 15rem"}]),y=async()=>{o.value=!0,u.value=null;try{const e=await C.get("/api/user/user-surveys",{params:{writer:v.user.id}});l.value=e.data.result}catch(e){console.error("Failed to fetch user surveys:",e),u.value="데이터를 불러오는 데 실패했습니다."}finally{o.value=!1}};k(()=>{y()});const _=e=>{alert(`'${e.name}' 조사를 시작합니다.`)},h=e=>{alert(`'${e.name}' 조사 결과를 봅니다.`)},b=e=>{switch(e||"미제출"){case"미제출":return"info";case"접수":return"success";case"심사중":return"warning";case"반려":return"danger";default:return"contrast"}};return(e,r)=>(i(),S("div",U,[r[1]||(r[1]=t("div",{class:"flex items-center mb-5"},[t("i",{class:"pi pi-file-text",style:{"font-size":"2.5rem",color:"var(--primary-color)"}}),t("h2",{class:"text-3xl font-bold ml-4"},"사업 신청서 조회")],-1)),t("div",D,[r[0]||(r[0]=t("h3",{class:"text-xl font-semibold mb-4"},"사업 신청서 목록",-1)),c(N,{data:l.value,columns:f.value,loading:o.value,rows:5},{"body-submission_status":m(({data:s})=>[c(n(B),{value:s.submission_status||"미제출",severity:b(s.submission_status)},null,8,["value","severity"])]),"body-management":m(({data:s})=>[t("div",F,[s.submission_status?(i(),d(n(p),{key:1,label:"결과보기",severity:"secondary",outlined:"",onClick:w=>h(s)},null,8,["onClick"])):(i(),d(n(p),{key:0,label:"작성하기",outlined:"",onClick:w=>_(s)},null,8,["onClick"]))])]),_:1},8,["data","columns","loading"])])]))}},Y=x(R,[["__scopeId","data-v-d135e271"]]);export{Y as default};
