import{X as E,e as p,p as l,f as s,q as V,j as o,aH as u,t as P,aK as b,o as v,aF as $}from"./index-CIvZqnG9.js";const C={class:"find-account-container"},U={class:"find-account-tab"},g={key:0},S={key:0},M={key:0},B={key:1},D={key:0},F={key:0},j={__name:"FindAccount",setup(N){const m=E("email"),n=E({idEmail:{name:"",input:"",code:""},pwEmail:{name:"",input:"",code:""},idPhone:{name:"",input:"",code:""},pwPhone:{name:"",id:"",code:""}}),d=E({idEmail:{text:"",type:""},pwEmail:{text:"",type:""},idPhone:{text:"",type:""},pwPhone:{text:"",type:""}}),x=E({idEmail:"",pwEmail:"",idPhone:"",pwPhone:""}),a=(i,e,t="success")=>{d.value[i].text=e,d.value[i].type=t},r=i=>{if(!n.value[i].input){a(i,"연락처 또는 이메일을 입력하세요","error");return}const t=Math.floor(1e5+Math.random()*9e5).toString();x.value[i]=t,a(i,`인증번호가 발송되었습니다 임시${t}`,"success")},y=i=>{n.value[i].code===x.value[i]?a(i,"인증 성공","success"):a(i,"인증번호가 올바르지 않습니다","error")},f=async i=>{const e=i==="email"?"idEmail":"idPhone",t=i==="email"?{name:n.value.idEmail.name,email:n.value.idEmail.input}:{name:n.value.idPhone.name,phone:n.value.idPhone.input};if(!t.name||!t.email&&!t.phone){a(e,"이름과 이메일/전화번호를 입력하세요","error");return}try{const w=await $.post("/api/findaccount/id",t);w.data.success?a(e,"아이디가 등록된 이메일로 발송되었습니다 이메일을 확인하세요","success"):a(e,w.data.message,"error")}catch(w){console.error("이메일 발송 오류",w),a(e,"서버 오류 발생","error")}},k=i=>{a(i==="email"?"pwEmail":"pwPhone","비밀번호 찾기 요청 전송","success")};return(i,e)=>(v(),p("div",C,[e[36]||(e[36]=l("h1",null,"아이디 비밀번호 찾기 페이지",-1)),l("div",U,[l("button",{class:V({active:m.value==="email"}),onClick:e[0]||(e[0]=t=>m.value="email")}," 이메일로 찾기 ",2),l("button",{class:V({active:m.value==="phone"}),onClick:e[1]||(e[1]=t=>m.value="phone")}," 전화번호로 찾기 ",2)]),m.value==="email"?(v(),p("div",g,[e[30]||(e[30]=l("div",null,"아이디 찾기",-1)),l("form",{onSubmit:e[7]||(e[7]=b(t=>f("email"),["prevent"]))},[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>n.value.idEmail.name=t),placeholder:"이름"},null,512),[[u,n.value.idEmail.name]])]),l("div",null,[l("div",null,[o(l("input",{type:"email","onUpdate:modelValue":e[3]||(e[3]=t=>n.value.idEmail.input=t),placeholder:"이메일 입력"},null,512),[[u,n.value.idEmail.input]]),l("button",{type:"button",onClick:e[4]||(e[4]=t=>r("idEmail"))},"인증번호 전송")])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>n.value.idEmail.code=t),placeholder:"인증번호 입력"},null,512),[[u,n.value.idEmail.code]]),l("button",{type:"button",onClick:e[6]||(e[6]=t=>y("idEmail"))},"확인")])]),d.value.idEmail.text?(v(),p("div",S,P(d.value.idEmail.text),1)):s("",!0),e[28]||(e[28]=l("div",null,[l("button",{type:"submit"},"아이디 찾기")],-1))],32),e[31]||(e[31]=l("div",null,"비밀번호 찾기",-1)),l("form",{onSubmit:e[14]||(e[14]=b(t=>k("email"),["prevent"]))},[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>n.value.pwEmail.name=t),placeholder:"이름"},null,512),[[u,n.value.pwEmail.name]])]),l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>n.value.pwEmail.idEmail=t),placeholder:"아이디 입력"},null,512),[[u,n.value.pwEmail.idEmail]])]),l("div",null,[l("div",null,[o(l("input",{type:"email","onUpdate:modelValue":e[10]||(e[10]=t=>n.value.pwEmail.input=t),placeholder:"이메일 입력"},null,512),[[u,n.value.pwEmail.input]]),l("button",{type:"button",onClick:e[11]||(e[11]=t=>r("pwEmail"))},"인증번호 전송")])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=t=>n.value.pwEmail.code=t),placeholder:"인증번호 입력"},null,512),[[u,n.value.pwEmail.code]]),l("button",{type:"button",onClick:e[13]||(e[13]=t=>y("pwEmail"))},"확인")])]),d.value.pwEmail.text?(v(),p("div",M,P(d.value.pwEmail.text),1)):s("",!0),e[29]||(e[29]=l("div",null,[l("button",{type:"submit"},"비밀번호 찾기")],-1))],32)])):s("",!0),m.value==="phone"?(v(),p("div",B,[e[34]||(e[34]=l("div",null,"아이디 찾기",-1)),l("form",{onSubmit:e[20]||(e[20]=b(t=>f("phone"),["prevent"]))},[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=t=>n.value.idPhone.name=t),placeholder:"이름"},null,512),[[u,n.value.idPhone.name]])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=t=>n.value.idPhone.input=t),placeholder:"전화번호 입력 숫자만"},null,512),[[u,n.value.idPhone.input]]),l("button",{type:"button",onClick:e[17]||(e[17]=t=>r("idPhone"))},"인증번호 전송")])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>n.value.idPhone.code=t),placeholder:"인증번호 입력"},null,512),[[u,n.value.idPhone.code]]),l("button",{type:"button",onClick:e[19]||(e[19]=t=>y("idPhone"))},"확인")])]),d.value.idPhone.text?(v(),p("div",D,P(d.value.idPhone.text),1)):s("",!0),e[32]||(e[32]=l("div",null,[l("button",{type:"submit"},"아이디 찾기")],-1))],32),e[35]||(e[35]=l("div",null,"비밀번호 찾기",-1)),l("form",{onSubmit:e[27]||(e[27]=b(t=>k("phone"),["prevent"]))},[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[21]||(e[21]=t=>n.value.pwPhone.name=t),placeholder:"이름"},null,512),[[u,n.value.pwPhone.name]])]),l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[22]||(e[22]=t=>n.value.pwPhone.id=t),placeholder:"아이디 입력"},null,512),[[u,n.value.pwPhone.id]])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[23]||(e[23]=t=>n.value.pwPhone.input=t),placeholder:"전화번호 입력"},null,512),[[u,n.value.pwPhone.input]]),l("button",{type:"button",onClick:e[24]||(e[24]=t=>r("pwPhone"))},"인증번호 전송")])]),l("div",null,[l("div",null,[o(l("input",{type:"text","onUpdate:modelValue":e[25]||(e[25]=t=>n.value.pwPhone.code=t),placeholder:"인증번호 입력"},null,512),[[u,n.value.pwPhone.code]]),l("button",{type:"button",onClick:e[26]||(e[26]=t=>y("pwPhone"))},"확인")])]),d.value.pwPhone.text?(v(),p("div",F,P(d.value.pwPhone.text),1)):s("",!0),e[33]||(e[33]=l("div",null,[l("button",{type:"submit"},"비밀번호 찾기")],-1))],32)])):s("",!0)]))}};export{j as default};
