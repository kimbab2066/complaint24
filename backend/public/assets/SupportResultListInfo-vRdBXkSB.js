import{X as v,a1 as b,as as y,e as u,p as s,g as o,aJ as n,F as x,a4 as V,aF as w,o as p,t as c}from"./index-CIvZqnG9.js";import{s as r}from"./index-Q5f-HasL.js";import{s as U}from"./index-CS-xok40.js";const k={class:"border rounded-md p-4 mt-2 shadow-sm bg-gray-50"},F={class:"flex flex-col gap-4"},L={class:"flex gap-4"},S={class:"w-1/2"},B={class:"w-1/2"},D={class:"flex gap-4"},N={class:"w-1/2"},P={class:"w-1/2"},j={key:0},$={class:"list-disc ml-5 text-sm text-gray-600"},A={key:1,class:"text-sm text-gray-400"},J={__name:"SupportResultListInfo",props:{item:Object},setup(m){const i=m,a=v({support_plan_no:null,support_plan_goal:"",staff_name:"",business_name:"",spend:0,created_at:"",writer_date:"",priority_no:"",plan:"",file_names:"",support_plan_status:""}),d=e=>{e&&(a.value={support_plan_no:e.support_plan_no||null,support_plan_goal:e.support_plan_goal||"",staff_name:e.staff_name||"",business_name:e.business_name||"",spend:e.spend||0,created_at:e.created_at||"",writer_date:e.writer_date||"",priority_no:e.priority_no||"",plan:e.plan||"",file_names:e.file_names||"",support_plan_status:e.support_plan_status||e.status||""})};b(()=>{i.item&&d(i.item)}),y(()=>i.item,e=>{d(e)},{immediate:!0,deep:!0});const _=e=>e==null?"":Number(e).toLocaleString(),f=async()=>{if(a.value.support_plan_no)try{const e=await w.post(`/api/staff/support-plan/SupportPlanDetail/${a.value.support_plan_no}`);alert(e.data.message||"승인 완료"),a.value.support_plan_status="승인"}catch(e){console.error(e),alert("승인 중 오류 발생")}};return(e,l)=>(p(),u("div",k,[s("div",F,[s("div",null,[l[7]||(l[7]=s("label",{class:"font-semibold text-gray-700"},"목표",-1)),o(n(r),{modelValue:a.value.support_plan_goal,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.support_plan_goal=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),s("div",null,[l[8]||(l[8]=s("label",{class:"font-semibold text-gray-700"},"작성자",-1)),o(n(r),{modelValue:a.value.staff_name,"onUpdate:modelValue":l[1]||(l[1]=t=>a.value.staff_name=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),s("div",L,[s("div",S,[l[9]||(l[9]=s("label",{class:"font-semibold text-gray-700"},"지원계획",-1)),o(n(r),{modelValue:a.value.business_name,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.business_name=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),s("div",B,[l[10]||(l[10]=s("label",{class:"font-semibold text-gray-700"},"예상지원금액",-1)),o(n(r),{value:_(a.value.spend),readonly:"",class:"w-full text-right bg-gray-100"},null,8,["value"])])]),s("div",D,[s("div",N,[l[11]||(l[11]=s("label",{class:"font-semibold text-gray-700"},"작성일",-1)),o(n(r),{modelValue:a.value.created_at,"onUpdate:modelValue":l[3]||(l[3]=t=>a.value.created_at=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),s("div",P,[l[12]||(l[12]=s("label",{class:"font-semibold text-gray-700"},"요청일",-1)),o(n(r),{modelValue:a.value.writer_date,"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.writer_date=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])])]),s("div",null,[l[13]||(l[13]=s("label",{class:"font-semibold text-gray-700"},"현재상태",-1)),o(n(r),{modelValue:a.value.support_plan_status,"onUpdate:modelValue":l[5]||(l[5]=t=>a.value.support_plan_status=t),readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),s("div",null,[l[14]||(l[14]=s("label",{class:"font-semibold text-gray-700"},"내용",-1)),o(n(U),{modelValue:a.value.plan,"onUpdate:modelValue":l[6]||(l[6]=t=>a.value.plan=t),rows:"4",readonly:"",class:"w-full bg-gray-100"},null,8,["modelValue"])]),a.value.file_names&&a.value.file_names.length?(p(),u("div",j,[l[15]||(l[15]=s("label",{class:"font-semibold text-gray-700"},"업로드 PDF",-1)),s("ul",$,[(p(!0),u(x,null,V(a.value.file_names.split(","),(t,g)=>(p(),u("li",{key:g},c(t),1))),128))])])):(p(),u("div",A,"첨부 파일 없음")),s("div",{class:"flex justify-end gap-4 mt-6"},[s("button",{onClick:f,class:"px-6 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors"}," 승인 ")])])]))}};export{J as default};
