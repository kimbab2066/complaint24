import{s as g,a as N}from"./index-DFkLlqX2.js";import{s as w}from"./index-Q5f-HasL.js";import{ax as C,X as p,a1 as D,e as k,p as a,g as s,D as x,aI as L,w as _,aF as T,aG as V,o as B}from"./index-CIvZqnG9.js";import"./index-B8K14yKN.js";import"./index-rSX_qRTu.js";import"./index-D3alGoI6.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-DrWbS65R.js";import"./index-DtbhESyl.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-DaQCVIMN.js";import"./index-m-AAtQFb.js";const I={class:"support-plan-container"},R={class:"button-container"},S={class:"search-bar-container"},$={class:"search-item institution-name-input"},K={class:"search-item search-button"},z={class:"support-plan-list"},A={class:"action-cell"},E={__name:"SystemNotice",setup(F){const m=V(),u=p([]),c=p([]),n=p(""),h=t=>{if(!t)return"N/A";try{const e=new Date(t);return isNaN(e.getTime())?"유효하지 않은 날짜":e.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"날짜 포맷 오류"}},f=async()=>{try{const o=(await(await T.get("/api/institutions/notices")).data).map(r=>({...r,start_at:h(r.business_start)}));u.value=o,c.value=o}catch(t){console.error("SystemNotice.vue 호출 실패",t)}},d=()=>{let t=u.value;if(n.value.trim()!==""){const e=n.value.trim().toLowerCase();t=t.filter(o=>o.institution_name&&o.institution_name.toLowerCase().includes(e))}c.value=t},v=()=>{m.push({name:"sysNoticeRegister"})},b=t=>{m.push({name:"sysNoticeDetails",params:{id:t.notice_no}})};return D(()=>{f()}),(t,e)=>{const o=x,r=w,i=N,y=g;return B(),k("div",I,[e[1]||(e[1]=a("h2",{class:"page-subtitle"},"공고 목록",-1)),a("div",R,[s(o,{icon:"pi pi-plus",label:"새로운 공고 등록",size:"small",onClick:v})]),a("div",S,[a("div",$,[s(r,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),placeholder:"담당 기관명 검색",onKeyup:L(d,["enter"])},null,8,["modelValue"])]),a("div",K,[s(o,{icon:"pi pi-search",label:"검색",onClick:d})])]),a("div",z,[s(y,{value:c.value,paginator:"",rows:10,class:"p-datatable-gridlines"},{default:_(()=>[s(i,{field:"institution_name",header:"담당기관"}),s(i,{field:"staff_name",header:"사업 담당자 명"}),s(i,{field:"disabled_type",header:"지원 대상 장애 유형"}),s(i,{field:"business_name",header:"지원사업 명"}),s(i,{field:"start_at",header:"사업 시작 일자"}),s(i,{header:"관리"},{body:_(({data:l})=>[a("div",A,[s(o,{icon:"pi pi-file-o",label:"상세보기",size:"small",onClick:G=>b(l)},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])])}}},ot=C(E,[["__scopeId","data-v-bea68986"]]);export{ot as default};
