import{ax as _,X as u,ay as v,e as y,p as s,aK as g,j as n,aH as i,t as f,aG as x,o as N,aF as V}from"./index-CIvZqnG9.js";const U={class:"notice-register-container"},k={class:"content-wrapper"},w={class:"form-card"},S={class:"form-grid"},B={class:"form-field"},D={class:"form-field"},I={class:"form-field"},R={class:"form-field"},C={class:"form-field"},F={class:"form-field"},L={class:"form-field full-width"},M={class:"form-field"},j={class:"form-field"},E={class:"button-group"},G=["disabled"],H=["disabled"],K={__name:"SystemNoticeRegister",setup(T){const b=x(),a=u(!1),d=u(!1),t=v({business_name:"",institution_name:"",staff_name:"",disabled_type:"",business_start:"",business_end:"",content:"",budget:"",selected_count:""});function c(){return t.business_name.trim()?t.institution_name.trim()?t.staff_name.trim()?!t.business_start||!t.business_end?(console.error("사업 시작일과 종료일 모두 입력해주세요."),!1):t.content.trim()?t.budget.trim()!==""&&isNaN(Number(t.budget))?(console.error("지원 예산을 숫자로 입력해주세요."),!1):t.selected_count.trim()!==""&&isNaN(Number(t.selected_count))?(console.error("선발 인원 수를 숫자로 입력해 주세요."),!1):!0:(console.error("내용을 입력해주세요."),!1):(console.error("사업 담당자를 입력해주세요."),!1):(console.error("담당 기관명을 입력해주세요."),!1):(console.error("지원 사업명을 입력해주세요."),!1)}async function p(){if(!a.value)try{a.value=!0,console.log("임시저장 데이터:",{...t}),console.log("임시저장 되었습니다.")}catch(o){console.error("임시저장 실패:",o)}finally{a.value=!1}}async function m(){if(!d.value&&c()){d.value=!0;try{const o={...t,budget:t.budget?parseInt(t.budget):null,selected_count:t.selected_count?parseInt(t.selected_count):null};await V.post("/api/institutions/notices/register",o),console.log("새로운 공고가 등록되었습니다",o),r()}catch(o){console.error("공고 등록 실패",o)}finally{d.value=!1}}}const r=()=>{b.push({name:"sysNotice"}),console.log("공고 목록 페이지로 이동 시뮬레이션")};return(o,e)=>(N(),y("div",U,[s("div",k,[s("div",{class:"header-section"},[e[9]||(e[9]=s("h1",{class:"header-title"},"공고 등록",-1)),s("button",{onClick:r,class:"btn-back-list"},"돌아가기")]),s("div",w,[s("form",{onSubmit:g(m,["prevent"]),class:"form-spacing"},[s("div",S,[s("div",B,[e[10]||(e[10]=s("label",{for:"business_name",class:"field-label"}," 지원 사업명 ",-1)),n(s("input",{type:"text",id:"business_name","onUpdate:modelValue":e[0]||(e[0]=l=>t.business_name=l),class:"input-field",placeholder:"예: 2026 발달 장애인 지원 사업"},null,512),[[i,t.business_name]])]),s("div",D,[e[11]||(e[11]=s("label",{for:"institution_name",class:"field-label"}," 담당 기관 ",-1)),n(s("input",{type:"text",id:"institution_name","onUpdate:modelValue":e[1]||(e[1]=l=>t.institution_name=l),class:"input-field",placeholder:"예: 대한민국(행정복지부)"},null,512),[[i,t.institution_name]])]),s("div",I,[e[12]||(e[12]=s("label",{for:"staff_name",class:"field-label"}," 사업 담당자 명 ",-1)),n(s("input",{type:"text",id:"staff_name","onUpdate:modelValue":e[2]||(e[2]=l=>t.staff_name=l),class:"input-field",placeholder:"예: 김지수"},null,512),[[i,t.staff_name]])]),s("div",R,[e[13]||(e[13]=s("label",{for:"disabled_type",class:"field-label"}," 지원 대상 ",-1)),n(s("input",{type:"text",id:"disabled_type","onUpdate:modelValue":e[3]||(e[3]=l=>t.disabled_type=l),class:"input-field",placeholder:"예: 만 18세 이상 발달 장애인"},null,512),[[i,t.disabled_type]])]),s("div",C,[e[14]||(e[14]=s("label",{for:"business_start",class:"field-label"}," 시작 일자 ",-1)),n(s("input",{type:"date",id:"business_start","onUpdate:modelValue":e[4]||(e[4]=l=>t.business_start=l),class:"input-field",placeholder:"예: 2025-11-12"},null,512),[[i,t.business_start]])]),s("div",F,[e[15]||(e[15]=s("label",{for:"business_end",class:"field-label"}," 종료 일자 ",-1)),n(s("input",{type:"date",id:"business_end","onUpdate:modelValue":e[5]||(e[5]=l=>t.business_end=l),class:"input-field",placeholder:"예: 2026-11-12"},null,512),[[i,t.business_end]])]),s("div",L,[e[16]||(e[16]=s("label",{for:"content",class:"field-label"},"지원 내용",-1)),n(s("textarea",{id:"content",rows:"8","onUpdate:modelValue":e[6]||(e[6]=l=>t.content=l),class:"textarea-field",placeholder:"지원하려는 서비스의 상세 내용을 입력하세요."},null,512),[[i,t.content]])]),s("div",M,[e[17]||(e[17]=s("label",{for:"budget",class:"field-label"},"지원 예산",-1)),n(s("input",{type:"text",id:"budget","onUpdate:modelValue":e[7]||(e[7]=l=>t.budget=l),class:"input-field",placeholder:"예: 총 예산 10억원 (숫자만 입력)"},null,512),[[i,t.budget]])]),s("div",j,[e[18]||(e[18]=s("label",{for:"selected_count",class:"field-label"},"선발 인원 수",-1)),n(s("input",{type:"text",id:"selected_count","onUpdate:modelValue":e[8]||(e[8]=l=>t.selected_count=l),class:"input-field",placeholder:"예: 100명 (숫자만 입력)"},null,512),[[i,t.selected_count]])])]),s("div",E,[s("button",{type:"button",onClick:p,disabled:a.value,class:"btn btn-draft"},f(a.value?"저장 중...":"임시저장"),9,G),s("button",{type:"submit",disabled:d.value,class:"btn btn-submit"},f(d.value?"등록 중...":"등록"),9,H)])],32)])])]))}},q=_(K,[["__scopeId","data-v-78c5a988"]]);export{q as default};
