import{ax as g,X as u,a1 as h,e as S,p as m,g as s,aJ as o,w as l,a3 as n,t as c,D as y,aF as w,aG as A,o as x,az as N}from"./index-CIvZqnG9.js";import{a as r,s as R}from"./index-DFkLlqX2.js";import{s as D}from"./index-Q5f-HasL.js";import"./index-B8K14yKN.js";import"./index-rSX_qRTu.js";import"./index-D3alGoI6.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-DrWbS65R.js";import"./index-DtbhESyl.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-DaQCVIMN.js";import"./index-m-AAtQFb.js";const V={class:"card"},L={class:"p-input-icon-left w-full mb-4"},T={__name:"SupportResultList",setup(k){const p=u([]),i=u(!1),_=A(),d=u({global:{value:null,matchMode:N.CONTAINS}}),v=t=>(t==null?void 0:t.toLocaleString())||"-",f=t=>{if(!t)return"-";const a=new Date(t);return isNaN(a)?"-":a.toLocaleDateString()},b=t=>{_.push({name:"SupportResultListInfo",params:{support_result_no:t.id}})};return h(async()=>{i.value=!0;try{const t=await w.get("/api/staff/support-result"),a=Array.isArray(t.data)?t.data:[t.data];p.value=a.map(e=>({id:e.support_result_no,supportTitle:e.support_title,supportSpend:e.support_spend,startedAt:e.support_started_at,endedAt:e.support_ended_at}))}catch(t){console.error("지원 결과 조회 실패:",t),p.value=[]}finally{i.value=!1}}),(t,a)=>(x(),S("div",V,[m("div",L,[a[1]||(a[1]=m("i",{class:"pi pi-search"},null,-1)),s(o(D),{modelValue:d.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value.global.value=e),placeholder:"지원 제목, 금액 등 검색",class:"w-full p-inputtext-lg"},null,8,["modelValue"])]),s(o(R),{value:p.value,loading:i.value,filters:d.value,"global-filter-fields":["supportTitle","supportSpend"],paginator:"",rows:10,tableStyle:"min-width: 50rem"},{default:l(()=>[s(o(r),{field:"id",header:"번호",sortable:"",style:{width:"5rem"}}),s(o(r),{field:"supportTitle",header:"지원 제목",sortable:""}),s(o(r),{field:"supportSpend",header:"지원 금액",sortable:""},{body:l(e=>[n(c(v(e.data.supportSpend)),1)]),_:1}),s(o(r),{field:"startedAt",header:"시작 일자",sortable:""},{body:l(e=>[n(c(f(e.data.startedAt)),1)]),_:1}),s(o(r),{field:"endedAt",header:"종료 일자",sortable:""},{body:l(e=>[n(c(f(e.data.endedAt)),1)]),_:1}),s(o(r),{header:"보기"},{body:l(e=>[s(o(y),{label:"상세보기",size:"small",outlined:"",onClick:()=>b(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])]))}},P=g(T,[["__scopeId","data-v-a30fa5a9"]]);export{P as default};
