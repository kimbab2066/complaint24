import{B as te,e as f,o as b,p as o,n as P,m as x,G as le,a1 as ae,X as d,Z as oe,g as a,w as n,a2 as se,D as re,a3 as T,t as I,f as C,az as ne}from"./index-CIvZqnG9.js";import{s as ie}from"./index-rSX_qRTu.js";import{s as ue}from"./index-DaQCVIMN.js";import{s as de}from"./index-D3alGoI6.js";import{s as ce}from"./index-CS-xok40.js";import{s as pe,a as me}from"./index-DFkLlqX2.js";import{s as ve}from"./index-BPbqiqrq.js";import{s as fe}from"./index-eBkXTaKh.js";import{s as be,a as ye}from"./index-2HQD3IZ5.js";import{s as ge}from"./index-Q5f-HasL.js";import{P as Se}from"./ProductService-BtITuo-x.js";import"./index-DtbhESyl.js";import"./index-B8K14yKN.js";import"./index-CI70ECEq.js";import"./index-DrWbS65R.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-m-AAtQFb.js";var ke=`
    .p-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        padding: dt('toolbar.padding');
        background: dt('toolbar.background');
        border: 1px solid dt('toolbar.border.color');
        color: dt('toolbar.color');
        border-radius: dt('toolbar.border.radius');
        gap: dt('toolbar.gap');
    }

    .p-toolbar-start,
    .p-toolbar-center,
    .p-toolbar-end {
        display: flex;
        align-items: center;
    }
`,xe={root:"p-toolbar p-component",start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"},Ce=te.extend({name:"toolbar",style:ke,classes:xe}),Ve={name:"BaseToolbar",extends:le,props:{ariaLabelledby:{type:String,default:null}},style:Ce,provide:function(){return{$pcToolbar:this,$parentInstance:this}}},O={name:"Toolbar",extends:Ve,inheritAttrs:!1},we=["aria-labelledby"];function $e(i,y,V,u,p,m){return b(),f("div",x({class:i.cx("root"),role:"toolbar","aria-labelledby":i.ariaLabelledby},i.ptmi("root")),[o("div",x({class:i.cx("start")},i.ptm("start")),[P(i.$slots,"start")],16),o("div",x({class:i.cx("center")},i.ptm("center")),[P(i.$slots,"center")],16),o("div",x({class:i.cx("end")},i.ptm("end")),[P(i.$slots,"end")],16)],16,we)}O.render=$e;const Pe={class:"card"},Te={class:"flex flex-wrap gap-2 items-center justify-between"},Ue=["src","alt"],De={class:"flex flex-col gap-6"},Ne=["src","alt"],Ie={key:0,class:"text-red-500"},Oe={class:"grid grid-cols-12 gap-4"},Le={class:"flex items-center gap-2 col-span-6"},he={class:"flex items-center gap-2 col-span-6"},_e={class:"flex items-center gap-2 col-span-6"},Be={class:"flex items-center gap-2 col-span-6"},Me={class:"grid grid-cols-12 gap-4"},Ke={class:"col-span-6"},qe={class:"col-span-6"},Ae={class:"flex items-center gap-4"},Fe={key:0},Re={class:"flex items-center gap-4"},Ee={key:0},dt={__name:"Crud",setup(i){ae(()=>{Se.getProducts().then(s=>u.value=s)});const y=oe(),V=d(),u=d(),p=d(!1),m=d(!1),g=d(!1),t=d({}),v=d(),w=d({global:{value:null,matchMode:ne.CONTAINS}}),S=d(!1),L=d([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]);function h(s){if(s)return s.toLocaleString("en-US",{style:"currency",currency:"USD"})}function _(){t.value={},S.value=!1,p.value=!0}function B(){p.value=!1,S.value=!1}function M(){var s;S.value=!0,(s=t==null?void 0:t.value.name)!=null&&s.trim()&&(t.value.id?(t.value.inventoryStatus=t.value.inventoryStatus.value?t.value.inventoryStatus.value:t.value.inventoryStatus,u.value[F(t.value.id)]=t.value,y.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(t.value.id=U(),t.value.code=U(),t.value.image="product-placeholder.svg",t.value.inventoryStatus=t.value.inventoryStatus?t.value.inventoryStatus.value:"INSTOCK",u.value.push(t.value),y.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),p.value=!1,t.value={})}function K(s){t.value={...s},p.value=!0}function q(s){t.value=s,m.value=!0}function A(){u.value=u.value.filter(s=>s.id!==t.value.id),m.value=!1,t.value={},y.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}function F(s){let e=-1;for(let r=0;r<u.value.length;r++)if(u.value[r].id===s){e=r;break}return e}function U(){let s="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}function R(){V.value.exportCSV()}function E(){g.value=!0}function j(){u.value=u.value.filter(s=>!v.value.includes(s)),g.value=!1,v.value=null,y.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}function W(s){switch(s){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return null}}return(s,e)=>{const r=re,Y=O,z=ye,D=ge,G=be,c=me,Q=fe,X=ve,Z=pe,H=ce,J=de,k=ue,N=ie,$=se;return b(),f("div",null,[o("div",Pe,[a(Y,{class:"mb-6"},{start:n(()=>[a(r,{label:"New",icon:"pi pi-plus",severity:"secondary",class:"mr-2",onClick:_}),a(r,{label:"Delete",icon:"pi pi-trash",severity:"secondary",onClick:E,disabled:!v.value||!v.value.length},null,8,["disabled"])]),end:n(()=>[a(r,{label:"Export",icon:"pi pi-upload",severity:"secondary",onClick:e[0]||(e[0]=l=>R(l))})]),_:1}),a(Z,{ref_key:"dt",ref:V,selection:v.value,"onUpdate:selection":e[2]||(e[2]=l=>v.value=l),value:u.value,dataKey:"id",paginator:!0,rows:10,filters:w.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:n(()=>[o("div",Te,[e[18]||(e[18]=o("h4",{class:"m-0"},"Manage Products",-1)),a(G,null,{default:n(()=>[a(z,null,{default:n(()=>[...e[17]||(e[17]=[o("i",{class:"pi pi-search"},null,-1)])]),_:1}),a(D,{modelValue:w.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=l=>w.value.global.value=l),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:n(()=>[a(c,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),a(c,{field:"code",header:"Code",sortable:"",style:{"min-width":"12rem"}}),a(c,{field:"name",header:"Name",sortable:"",style:{"min-width":"16rem"}}),a(c,{header:"Image"},{body:n(l=>[o("img",{src:`https://primefaces.org/cdn/primevue/images/product/${l.data.image}`,alt:l.data.image,class:"rounded",style:{width:"64px"}},null,8,Ue)]),_:1}),a(c,{field:"price",header:"Price",sortable:"",style:{"min-width":"8rem"}},{body:n(l=>[T(I(h(l.data.price)),1)]),_:1}),a(c,{field:"category",header:"Category",sortable:"",style:{"min-width":"10rem"}}),a(c,{field:"rating",header:"Reviews",sortable:"",style:{"min-width":"12rem"}},{body:n(l=>[a(Q,{modelValue:l.data.rating,readonly:!0},null,8,["modelValue"])]),_:1}),a(c,{field:"inventoryStatus",header:"Status",sortable:"",style:{"min-width":"12rem"}},{body:n(l=>[a(X,{value:l.data.inventoryStatus,severity:W(l.data.inventoryStatus)},null,8,["value","severity"])]),_:1}),a(c,{exportable:!1,style:{"min-width":"12rem"}},{body:n(l=>[a(r,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:ee=>K(l.data)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:ee=>q(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","filters"])]),a($,{visible:p.value,"onUpdate:visible":e[12]||(e[12]=l=>p.value=l),style:{width:"450px"},header:"Product Details",modal:!0},{footer:n(()=>[a(r,{label:"Cancel",icon:"pi pi-times",text:"",onClick:B}),a(r,{label:"Save",icon:"pi pi-check",onClick:M})]),default:n(()=>[o("div",De,[t.value.image?(b(),f("img",{key:0,src:`https://primefaces.org/cdn/primevue/images/product/${t.value.image}`,alt:t.value.image,class:"block m-auto pb-4"},null,8,Ne)):C("",!0),o("div",null,[e[19]||(e[19]=o("label",{for:"name",class:"block font-bold mb-3"},"Name",-1)),a(D,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.name=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:S.value&&!t.value.name,fluid:""},null,8,["modelValue","invalid"]),S.value&&!t.value.name?(b(),f("small",Ie,"Name is required.")):C("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{for:"description",class:"block font-bold mb-3"},"Description",-1)),a(H,{id:"description",modelValue:t.value.description,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.description=l),required:"true",rows:"3",cols:"20",fluid:""},null,8,["modelValue"])]),o("div",null,[e[21]||(e[21]=o("label",{for:"inventoryStatus",class:"block font-bold mb-3"},"Inventory Status",-1)),a(J,{id:"inventoryStatus",modelValue:t.value.inventoryStatus,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.inventoryStatus=l),options:L.value,optionLabel:"label",placeholder:"Select a Status",fluid:""},null,8,["modelValue","options"])]),o("div",null,[e[26]||(e[26]=o("span",{class:"block font-bold mb-4"},"Category",-1)),o("div",Oe,[o("div",Le,[a(k,{id:"category1",modelValue:t.value.category,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.category=l),name:"category",value:"Accessories"},null,8,["modelValue"]),e[22]||(e[22]=o("label",{for:"category1"},"Accessories",-1))]),o("div",he,[a(k,{id:"category2",modelValue:t.value.category,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.category=l),name:"category",value:"Clothing"},null,8,["modelValue"]),e[23]||(e[23]=o("label",{for:"category2"},"Clothing",-1))]),o("div",_e,[a(k,{id:"category3",modelValue:t.value.category,"onUpdate:modelValue":e[8]||(e[8]=l=>t.value.category=l),name:"category",value:"Electronics"},null,8,["modelValue"]),e[24]||(e[24]=o("label",{for:"category3"},"Electronics",-1))]),o("div",Be,[a(k,{id:"category4",modelValue:t.value.category,"onUpdate:modelValue":e[9]||(e[9]=l=>t.value.category=l),name:"category",value:"Fitness"},null,8,["modelValue"]),e[25]||(e[25]=o("label",{for:"category4"},"Fitness",-1))])])]),o("div",Me,[o("div",Ke,[e[27]||(e[27]=o("label",{for:"price",class:"block font-bold mb-3"},"Price",-1)),a(N,{id:"price",modelValue:t.value.price,"onUpdate:modelValue":e[10]||(e[10]=l=>t.value.price=l),mode:"currency",currency:"USD",locale:"en-US",fluid:""},null,8,["modelValue"])]),o("div",qe,[e[28]||(e[28]=o("label",{for:"quantity",class:"block font-bold mb-3"},"Quantity",-1)),a(N,{id:"quantity",modelValue:t.value.quantity,"onUpdate:modelValue":e[11]||(e[11]=l=>t.value.quantity=l),integeronly:"",fluid:""},null,8,["modelValue"])])])])]),_:1},8,["visible"]),a($,{visible:m.value,"onUpdate:visible":e[14]||(e[14]=l=>m.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[a(r,{label:"No",icon:"pi pi-times",text:"",onClick:e[13]||(e[13]=l=>m.value=!1)}),a(r,{label:"Yes",icon:"pi pi-check",onClick:A})]),default:n(()=>[o("div",Ae,[e[31]||(e[31]=o("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),t.value?(b(),f("span",Fe,[e[29]||(e[29]=T("Are you sure you want to delete ",-1)),o("b",null,I(t.value.name),1),e[30]||(e[30]=T("?",-1))])):C("",!0)])]),_:1},8,["visible"]),a($,{visible:g.value,"onUpdate:visible":e[16]||(e[16]=l=>g.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[a(r,{label:"No",icon:"pi pi-times",text:"",onClick:e[15]||(e[15]=l=>g.value=!1)}),a(r,{label:"Yes",icon:"pi pi-check",text:"",onClick:j})]),default:n(()=>[o("div",Re,[e[32]||(e[32]=o("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),t.value?(b(),f("span",Ee,"Are you sure you want to delete the selected products?")):C("",!0)])]),_:1},8,["visible"])])}}};export{dt as default};
