import{ax as y,X as m,a1 as k,aF as b,e as s,o as e,p as a,F as I,a4 as x,d as f,w as n,g as i,aJ as o,D as h,t as v,aD as S,f as w,a3 as U}from"./index-CIvZqnG9.js";import{s as B,U as M}from"./UserMyInfoUpdate-CeeFRv0D.js";import{s as p}from"./index-Qd62vs18.js";import{s as N}from"./index-CVVAIkGy.js";import{s as V}from"./index-BPbqiqrq.js";import{I as D}from"./InstitutionState-By67F52m.js";import"./index-D2qeKuO0.js";import"./index-ntJNSm1c.js";import"./index-COnWdjRO.js";import"./index-D3alGoI6.js";import"./index-B8K14yKN.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-Q5f-HasL.js";import"./index-DrWbS65R.js";import"./index-CaYQ582G.js";import"./index-C8f_UxCN.js";import"./index-V3FZzHdg.js";import"./index-D5j367Ho.js";import"./index-CS-xok40.js";const F={class:"user-list-container"},L={class:"user-cards"},C={class:"card-header"},P={class:"user-details"},T={class:"user-name"},A={class:"user-contact"},E={class:"card-footer"},J={__name:"StaffUserList",setup(g){const u=m([]);k(async()=>{try{const t=await b.get("/api/user/users/by-institution?institution_no=1");u.value=t.data.result,console.log("이용자 목록:",u.value)}catch(t){console.error("이용자 목록을 불러오는 데 실패했습니다:",t)}});const c=t=>{switch(t){case"대기중":return"warning";case"지원중":return"success";default:return"info"}};return(t,d)=>(e(),s("div",F,[d[0]||(d[0]=a("h2",{class:"list-title"},"이용자 목록",-1)),a("div",L,[(e(!0),s(I,null,x(u.value,r=>(e(),f(o(N),{key:r.user_id,class:"user-card"},{header:n(()=>[a("div",C,[a("div",P,[a("p",T,v(r.user_name),1),a("p",A,"연락처: "+v(r.phone),1)]),i(o(V),{value:r.status,severity:c(r.status)},null,8,["value","severity"])])]),footer:n(()=>[a("div",E,[i(o(h),{label:"지원 계획 열람",class:"p-button-info"}),i(o(h),{label:"정보 보기",class:"p-button-secondary"})])]),_:2},1024))),128))])]))}},X=y(J,[["__scopeId","data-v-10cf6aa0"]]),j={class:"card"},q={key:0,class:"header-container"},z={class:"header-left"},G={key:0,class:"user-info"},H={key:0},K={key:1},O={key:1},Q={class:"header-right"},R={key:1},W={key:1},Y={key:1},Z={__name:"StaffMyPage",setup(g){const u=S(),c=m(3),t=m(null),d=u.user.id,r=async()=>{try{const _=await b.get(`/api/user/institution-info/${d}`);t.value=_.data.result||{}}catch(_){console.error("스태프 정보를 불러오는 데 실패했습니다:",_),t.value={}}};return k(()=>{r()}),(_,l)=>(e(),s("div",j,[t.value?(e(),s("div",q,[a("div",z,[l[1]||(l[1]=a("h1",{class:"page-title"},"마이페이지",-1)),t.value.user_name?(e(),s("p",G,[U(v(t.value.user_name)+"님 ",1),t.value.institution_name?(e(),s("span",H,"("+v(t.value.institution_name)+" 담당자)",1)):(e(),s("span",K,"(소속 기관 없음)"))])):(e(),s("p",O,"스태프 정보를 불러오는 중입니다..."))]),a("div",Q,[i(o(h),{label:"메인 페이지로",icon:"pi pi-arrow-left"})])])):w("",!0),i(o(B),{activeIndex:c.value,"onUpdate:activeIndex":l[0]||(l[0]=$=>c.value=$)},{default:n(()=>[i(o(p),{header:"일반 이용자 목록",disabled:!t.value||!t.value.institution_no},{default:n(()=>[t.value&&t.value.institution_no?(e(),f(X,{key:0})):(e(),s("p",R," 소속된 기관이 없어 이용자 목록을 조회할 수 없습니다. '내 정보 관리' 탭에서 기관을 신청하세요. "))]),_:1},8,["disabled"]),i(o(p),{header:"상담 목록",disabled:!t.value||!t.value.institution_no},{default:n(()=>[...l[2]||(l[2]=[a("p",null,"상담 목록 컨텐츠가 준비중입니다.",-1)])]),_:1},8,["disabled"]),i(o(p),{header:"기관상태",disabled:!t.value||!t.value.institution_no},{default:n(()=>[t.value&&t.value.institution_no?(e(),f(D,{key:0})):(e(),s("p",W," 소속된 기관이 없어 상태를 표시할 수 없습니다. '내 정보 관리' 탭에서 기관을 신청하세요. "))]),_:1},8,["disabled"]),i(o(p),{header:"내 정보 관리"},{default:n(()=>[t.value&&t.value.user_id?(e(),f(M,{key:0,"user-info":t.value},null,8,["user-info"])):(e(),s("p",Y,"사용자 정보를 불러오는 중..."))]),_:1})]),_:1},8,["activeIndex"])]))}},bt=y(Z,[["__scopeId","data-v-3b708814"]]);export{bt as default};
