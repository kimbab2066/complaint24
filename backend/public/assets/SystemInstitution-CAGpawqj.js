import{s as V,a as n}from"./index-DFkLlqX2.js";import{s as C}from"./index-BPbqiqrq.js";import{s as S}from"./index-Q5f-HasL.js";import{s as k}from"./index-COnWdjRO.js";import{ax as T,X as l,a1 as $,e as D,p as o,g as s,D as B,aI as R,w as d,aF as j,aG as z,o as K,aJ as r}from"./index-CIvZqnG9.js";import"./index-B8K14yKN.js";import"./index-rSX_qRTu.js";import"./index-D3alGoI6.js";import"./index-CI70ECEq.js";import"./index-2HQD3IZ5.js";import"./index-DrWbS65R.js";import"./index-DtbhESyl.js";import"./index-ntJNSm1c.js";import"./index-CDHacQLo.js";import"./index-vf1YAX2A.js";import"./index-DRZUHWhE.js";import"./index-DaQCVIMN.js";import"./index-m-AAtQFb.js";const N={class:"institution-container p-6 md:0-10"},U={class:"mb-6 flex justify-end"},A={class:"search-bar-container"},E={class:"search-item status-select"},F={class:"search-item institution-name-input"},G={class:"search-item search-button"},J={class:"institution-list mt-6"},M={class:"flex justify-center"},O={__name:"SystemInstitution",setup(X){const m=z(),_=l([]),p=l([]),f=async()=>{try{const e=await(await j.get("/api/institutions")).data;_.value=e,p.value=e}catch(t){console.error("기관 목록 호출에 실패",t)}},h=l([{label:"전체상태",value:"0S"},{label:"운영",value:"1s"},{label:"휴업",value:"2s"},{label:"폐업",value:"3s"}]),w=t=>{switch(t){case"운영":case"1s":return"운영";case"휴업":case"2s":return"휴업";case"폐업":case"3s":return"폐업";default:return t||"정의되지 않은 코드"}},u=l(h.value[0]),c=l(""),v=()=>{let t=_.value;if(u.value.value!=="0S"){const e=u.value.value.toLowerCase();t=t.filter(i=>i.status&&i.status.toLowerCase()===e)}if(c.value.trim()!==""){const e=c.value.trim().toLowerCase();t=t.filter(i=>i.institution_name&&i.institution_name.toLowerCase().includes(e))}p.value=t},b=()=>{m.push({name:"sysInstitutionRegister"})},x=t=>{m.push({name:"sysInstitutionDetails",params:{id:t.institution_no}})};return $(()=>{f()}),(t,e)=>{const i=B,y=k,g=S,I=C,L=V;return K(),D("div",N,[e[2]||(e[2]=o("h2",{class:"page-subtitle text-2xl font-bold mb-6"},"등록된 기관 목록",-1)),o("div",U,[s(i,{icon:"pi pi-plus",label:"새로운 기관 등록",size:"big",onClick:b})]),o("div",A,[o("div",E,[s(y,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),options:h.value,optionLabel:"label",placeholder:"상태 선택"},null,8,["modelValue","options"])]),o("div",F,[s(g,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=a=>c.value=a),placeholder:"기관명 검색",onKeyup:R(v,["enter"])},null,8,["modelValue"])]),o("div",G,[s(i,{icon:"pi pi-search",label:"검색",onClick:v})])]),o("div",J,[s(L,{value:p.value,paginator:"",rows:10,class:"p-datatable-gridlines"},{default:d(()=>[s(r(n),{field:"institution_name",header:"기관명",style:{width:"15%","min-width":"120px"}}),s(r(n),{field:"phone",header:"기관연락처",style:{width:"15%","min-width":"120px"}}),s(r(n),{field:"road_address",header:"주소",style:{width:"15%","min-width":"120px"}}),s(r(n),{field:"status",header:"운영상태",style:{width:"15%","min-width":"120px"}},{body:d(a=>[s(I,{value:w(a.data.status)},null,8,["value"])]),_:1}),s(r(n),{header:"상세보기",style:{width:"15%","min-width":"120px"}},{body:d(({data:a})=>[o("div",M,[s(i,{icon:"pi pi-file-o",label:"기관상세보기",size:"small",onClick:q=>x(a)},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])])}}},dt=T(O,[["__scopeId","data-v-171f0b54"]]);export{dt as default};
