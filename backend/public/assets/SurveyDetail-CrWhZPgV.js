import{ax as w,aE as V,X as _,a1 as k,aF as I,e as r,g as s,aJ as l,d as D,f as h,w as u,o as a,p as t,F as q,a4 as N,t as c,a3 as $}from"./index-CIvZqnG9.js";import{s as x}from"./index-CVVAIkGy.js";import{s as p}from"./index-Q5f-HasL.js";import{s as B}from"./index-CS-xok40.js";import{s as S}from"./index-Cq2nnSLM.js";import{s as y}from"./index-DaQCVIMN.js";const U={key:0,class:"flex justify-center items-center h-64"},F={key:1,class:"flex flex-col gap-8"},L={class:"flex flex-col gap-6"},X={class:"flex flex-col gap-3"},C={class:"flex flex-col gap-3"},E={class:"flex flex-col gap-3"},O={class:"flex flex-col gap-3"},R={class:"font-semibold text-xl"},T={class:"flex flex-col gap-6"},j={class:"font-medium text-lg w-full mb-3"},J={class:"flex flex-col gap-3 mt-4"},K={class:"flex flex-col gap-3 mt-4"},M={class:"mt-4 p-3 border rounded-md bg-gray-50"},z={key:0,class:"flex items-center gap-4 mt-2"},A={class:"flex items-center"},G=["for"],H={class:"flex items-center"},P=["for"],Q={key:1,class:"mt-2"},W={key:2,class:"mt-2 text-gray-500 text-sm"},Y={class:"flex flex-col gap-3 mt-4"},Z={key:2},ee={__name:"SurveyDetail",setup(te){const f=V().params.id,n=_(null),m=_([]),v=_(!0);k(async()=>{if(!f){console.error("ID가 없습니다."),v.value=!1;return}try{const i=await I.get(`/api/system/survey/detail/${f}`);n.value=i.data.basicInfo,m.value=i.data.questions}catch(i){console.error("데이터를 불러오는 데 실패했습니다:",i)}finally{v.value=!1}});function g(i){if(!i)return"";const e=new Date(i);return isNaN(e.getTime())?"":e.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"})}return(i,e)=>(a(),r("div",null,[v.value?(a(),r("div",U,[s(l(S))])):n.value?(a(),r("div",F,[s(l(x),null,{title:u(()=>[...e[2]||(e[2]=[t("div",{class:"font-semibold text-xl"},"조사지 기본 정보",-1)])]),content:u(()=>[t("div",L,[t("div",X,[e[3]||(e[3]=t("label",null,"조사지명",-1)),s(l(p),{type:"text",modelValue:n.value.inquiry_name,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value.inquiry_name=o),readonly:""},null,8,["modelValue"])]),t("div",C,[e[4]||(e[4]=t("label",null,"담당 기관 (작성자)",-1)),s(l(p),{type:"text",modelValue:n.value.inquiry_writer,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value.inquiry_writer=o),readonly:""},null,8,["modelValue"])]),t("div",E,[e[5]||(e[5]=t("label",null,"상태",-1)),s(l(p),{type:"text",value:n.value.inquiry_status===0?"상태1":n.value.inquiry_status===1?"상태2":"알 수 없음",readonly:""},null,8,["value"])]),t("div",O,[e[6]||(e[6]=t("label",null,"최종 수정일",-1)),s(l(p),{type:"text",value:g(n.value.updated_at),readonly:""},null,8,["value"])])])]),_:1}),m.value.length>0?(a(),D(l(x),{key:0},{title:u(()=>[t("div",R,"질문 목록 (총 "+c(m.value.length)+"개)",1)]),content:u(()=>[t("div",T,[(a(!0),r(q,null,N(m.value,(o,d)=>(a(),r("div",{key:o.question_no,class:"p-4 border rounded-lg"},[t("span",j," 질문 "+c(d+1),1),t("div",J,[e[7]||(e[7]=t("label",null,"질문 내용",-1)),s(l(p),{modelValue:o.question_content,"onUpdate:modelValue":b=>o.question_content=b,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),t("div",K,[e[9]||(e[9]=t("label",null,"답변 유형",-1)),t("div",M,[e[8]||(e[8]=t("label",{class:"font-medium text-sm text-gray-600"},"답변 예시 (미리보기)",-1)),o.response_type===2?(a(),r("div",z,[t("div",A,[s(l(y),{inputId:"preview-ox-o-"+d,name:"preview-ox-"+d,value:"O",disabled:""},null,8,["inputId","name"]),t("label",{for:"preview-ox-o-"+d,class:"ml-2 text-gray-700"},"O",8,G)]),t("div",H,[s(l(y),{inputId:"preview-ox-x-"+d,name:"preview-ox-"+d,value:"X",disabled:""},null,8,["inputId","name"]),t("label",{for:"preview-ox-x-"+d,class:"ml-2 text-gray-700"},"X",8,P)])])):o.response_type===1?(a(),r("div",Q,[s(l(B),{id:"preview-text-"+d,rows:"3",class:"w-full",placeholder:"사용자가 답변을 입력하는 공간입니다.",disabled:""},null,8,["id"])])):(a(),r("div",W," (알 수 없는 유형 코드: "+c(o.response_type)+") ",1))])]),t("div",Y,[e[10]||(e[10]=t("label",null,"필수 여부",-1)),s(l(p),{value:o.is_required?"필수":"선택",readonly:""},null,8,["value"])])]))),128))])]),_:1})):h("",!0)])):(a(),r("div",Z,[s(l(x),null,{title:u(()=>[...e[11]||(e[11]=[$("오류",-1)])]),content:u(()=>[t("p",null,"조사지 정보를 불러올 수 없습니다. ID ("+c(l(f))+")가 올바른지 확인해주세요.",1)]),_:1})]))]))}},de=w(ee,[["__scopeId","data-v-89a27060"]]);export{de as default};
